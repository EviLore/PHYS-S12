<!DOCTYPE html>
<html lang="en">

 <link rel="stylesheet" href="./style.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
  <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
  
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/arduino-light.min.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.8.0/highlight.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/arduino.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script> 
  
  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <a class="navbar-brand" href="../index.html">PHYS S-12: Introduction to Digital Fabrication</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
  
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav mr-auto">
        <li class="nav-item active">
          <a class="nav-link" href="../index.html">Home <span class="sr-only">(current)</span></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../about.html">About</a>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            Projects
          </a>
          <div class="dropdown-menu" aria-labelledby="navbarDropdown">
            <a class="dropdown-item" href="/PHYS-S12/final/index.html">Final Project</a>
            <a class="dropdown-item" href="/02_cutting/index.html">Week 02: 2D Design & Cutting</a>
            <a class="dropdown-item" href="/03_tools/index.html">Week 03: Electronics and Tools</a>
            <a class="dropdown-item" href="/04_micro/index.html">Week 04: Microcontroller Programming</a>
            <div class="dropdown-divider"></div>
            <a class="dropdown-item" href="#"></a>
          </div>
        </li>
        <li class="nav-item">
          <a class="nav-link disabled" href="#"></a>
        </li>
      </ul>
    </div>
  </nav>
  
<body>
<br>
<br>
<div class="mx-auto" style="padding-inline: 100px;"><h4>Week 4: Microcontroller Programming</h4></div>

<div class="spacer"></div>

<div class="bodytext">
  For this week's challenge, we're tasked with programming an Arduino board to do "something." 
  We'll make that something an LED array -- let's say three LEDs -- and a button that activates some change in behavior of the LEDs.
  <br><br>
  First, we'll reference the basics of a button press if/then implementation
<br><br>
<a href=" https://www.arduino.cc/en/Tutorial/BuiltInExamples/Button"> https://www.arduino.cc/en/Tutorial/BuiltInExamples/Button</a>

<br><br>
<img src="./001.png" class="imagedoc">
</div>
<div class="bodytext">
  <br><br>
  And we'll use this Arduino project from the project book as a starting point:
  <br><br>
  <a href="https://www.eitkw.com/wp-content/uploads/2020/03/Arduino_Projects_Book.pdf"> Arduino Project 2: Spaceship</a>
  </div>

  <div class="bodytext">
    <br><br>
    Here's our sample code from the project, which works with three LEDs of varying colors and a button:
    </div>

<div class="bodytext">
<pre><code class="language-arduino">
  int switchState = 0;    
  
  void setup(){ 
    pinMode(3,OUTPUT);  
    pinMode(4,OUTPUT);  
    pinMode(5,OUTPUT);  
    pinMode(2,INPUT); 
  } 
  void loop(){  
    switchState = digitalRead(2);  // this is a comment

  if (switchState == LOW) {    // the button is not pressed     
    digitalWrite(3, HIGH); // green LED    
    digitalWrite(4, LOW);  // red LED    
    digitalWrite(5, LOW);  // red LED  } 

  else {  // the button is pressed    
    digitalWrite(3, LOW);     
    digitalWrite(4, LOW);    
    digitalWrite(5, HIGH);     
    delay(250);  // wait for a quarter second    // toggle the LEDs    
    digitalWrite(4, HIGH);     
    digitalWrite(5, LOW);    
    delay(250); // wait for a quarter second  
  } } // go back to the beginning of the loop

  </code></pre> 

</div>


<div class="bodytext">
We're going to change this up. With some modifications for a three button config and three blue LED array, we have:
<br><br>
  <pre><code class="language-arduino">
    int switchState0 = 0; 
    int switchState1 = 0;
    int switchState2 = 0;
    void setup() {
      // put your setup code here, to run once:
      pinMode(3,OUTPUT);  
      pinMode(4,OUTPUT);  
      pinMode(5,OUTPUT);  
      pinMode(2,INPUT);
      pinMode(1,INPUT);
      pinMode(0,INPUT);
    }
    
    }
    
    void loop() {
      // put your main code here, to run repeatedly:
      switchState = digitalRead(2);
    
      if (switchState == LOW) {    // the button is not pressed     
        digitalWrite(3, HIGH); // blue LED    
        digitalWrite(4, HIGH);  // blue LED    
        digitalWrite(5, HIGH);  // blue LED  } 
      }
    
      else {  // the button is pressed    
        digitalWrite(3, LOW);     
        digitalWrite(4, LOW);    
        digitalWrite(5, HIGH);
    
        delay(250);  // wait for a quarter second    
        // toggle the LEDs    
        digitalWrite(4, HIGH);     
        digitalWrite(5, LOW);    
        delay(250); // wait for a quarter second
      }
    }
    
  
    </code></pre> 
  
  </div>

</div>

<div class="bodytext">
  <br><br>
  However, this code is now a redundant mess. Let's begin to fix it. 
</div>

<div class="bodytext">
  First, the globals. Those can be declared in one shot:
  <br><br>
    <pre><code class="language-arduino">
      int switchState0, switchState1, switchState2 = 0; 
      </code></pre> 
    </div>

    <div class="bodytext">
      Next, a for loop for the setup function:
      <br><br>
        <pre><code class="language-arduino">
          void setup() {    // put your setup code here, to run once:
            for (int pin = 0; pin < 6; pin++) {
              if (pin < 3) {
                pinMode(pin, INPUT);   // Input pins 0-2
              }
              else
                pinMode(pin, OUTPUT);  // Output pins 3-5
            }
          }          
          </code></pre> 
        </div>
    

<div class="bodytext">
  Let's decide on the specifics of our new control functionality before refactoring the code further. So, we now have this, 
  which uses six pins, three for input (the buttons) and three for output (the blue LEDs):
  <br><br>
    <pre><code class="language-arduino">
      int switchState0, switchState1, switchState2 = 0; 

      void setup() {    // put your setup code here, to run once:
        for (int pin = 0; pin < 6; pin++) {
          if (pin < 3) {
            pinMode(pin, INPUT);   // Input pins 0-2
          }
          else
            pinMode(pin, OUTPUT);  // Output pins 3-5
        }
      }
      void loop() {    // put your main code here, to run repeatedly:
        switchState2 = digitalRead(2);
        switchState1 = digitalRead(1);
        switchState0 = digitalRead(0);
      
        if (switchState2 == LOW) {    // the button is not pressed     
          digitalWrite(5, HIGH); // blue LED  top  
          digitalWrite(4, HIGH);  // blue LED mid   
          digitalWrite(3, HIGH);  // blue LED bot  
          } 
          
        else {    // top button is pressed    
          digitalWrite(5, LOW);     
          digitalWrite(4, LOW);    
          digitalWrite(3, LOW);
        }
      }
      </code></pre> 
    </div>


    <div class="bodytext">
    We can wire up our breadboard to match our codebase, too. Three blue LEDs and three buttons, with matching resistors. 
    <br><br>
    <img src="./002.png" class="imagedoc">

    </div>

    <div class="bodytext">
     Here's a schematic view including the pins on the Arduino board for reference:
      <br><br>
      <img src="./003.png" class="imagedoc">
  
      </div>







</body>


</html>